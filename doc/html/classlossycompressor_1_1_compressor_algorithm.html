<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Lossy image compressor: lossycompressor::CompressorAlgorithm Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Lossy image compressor
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>lossycompressor</b></li><li class="navelem"><a class="el" href="classlossycompressor_1_1_compressor_algorithm.html">CompressorAlgorithm</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classlossycompressor_1_1_compressor_algorithm-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">lossycompressor::CompressorAlgorithm Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Class representing an algorithm that compresses the image.  
 <a href="classlossycompressor_1_1_compressor_algorithm.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="compressoralgorithm_8h_source.html">compressoralgorithm.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for lossycompressor::CompressorAlgorithm:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classlossycompressor_1_1_compressor_algorithm.png" usemap="#lossycompressor::CompressorAlgorithm_map" alt=""/>
  <map id="lossycompressor::CompressorAlgorithm_map" name="lossycompressor::CompressorAlgorithm_map">
<area href="classlossycompressor_1_1_local_search.html" title="Uses hill-climbing to come up with best position of diagram points. " alt="lossycompressor::LocalSearch" shape="rect" coords="0,56,237,80"/>
<area href="classlossycompressor_1_1_evolutionary_algorithm.html" title="Uses evolutionary algorithm to come up with best position of diagram points. " alt="lossycompressor::EvolutionaryAlgorithm" shape="rect" coords="0,112,237,136"/>
<area href="classlossycompressor_1_1_memetic_algorithm.html" title="Uses memetic algorithm to come up with best position of diagram points. " alt="lossycompressor::MemeticAlgorithm" shape="rect" coords="0,168,237,192"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlossycompressor_1_1_compressor_algorithm_1_1_args.html">Args</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instance of this class is passed as a parameter into <a class="el" href="classlossycompressor_1_1_compressor_algorithm.html" title="Class representing an algorithm that compresses the image. ">CompressorAlgorithm</a>. Contains compression input data and compression settings.  <a href="structlossycompressor_1_1_compressor_algorithm_1_1_args.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4b98b46955df2877eb714c36b573faa9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4b98b46955df2877eb714c36b573faa9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlossycompressor_1_1_compressor_algorithm.html#a4b98b46955df2877eb714c36b573faa9">CompressorAlgorithm</a> (<a class="el" href="structlossycompressor_1_1_compressor_algorithm_1_1_args.html">CompressorAlgorithm::Args</a> *<a class="el" href="classlossycompressor_1_1_compressor_algorithm.html#a7cec23bc2a41ac35617e21466a2f0c46">args</a>)</td></tr>
<tr class="memdesc:a4b98b46955df2877eb714c36b573faa9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct new CompressionAlgorithm. <br /></td></tr>
<tr class="separator:a4b98b46955df2877eb714c36b573faa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a651e1dd7ef3df5e46a4aad73a8de4c8d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlossycompressor_1_1_compressor_algorithm.html#a651e1dd7ef3df5e46a4aad73a8de4c8d">compress</a> (<a class="el" href="structlossycompressor_1_1_voronoi_diagram.html">VoronoiDiagram</a> *outputDiagram, <a class="el" href="structlossycompressor_1_1_color24bit.html">Color24bit</a> *colors, int *pixelPointAssignment)</td></tr>
<tr class="memdesc:a651e1dd7ef3df5e46a4aad73a8de4c8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do the compression.  <a href="#a651e1dd7ef3df5e46a4aad73a8de4c8d">More...</a><br /></td></tr>
<tr class="separator:a651e1dd7ef3df5e46a4aad73a8de4c8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:af77bb3da1cfcf14c0bed2aa254c4fbd6"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlossycompressor_1_1_compressor_algorithm.html#af77bb3da1cfcf14c0bed2aa254c4fbd6">calculateFitness</a> (<a class="el" href="structlossycompressor_1_1_voronoi_diagram.html">VoronoiDiagram</a> *diagram)</td></tr>
<tr class="separator:af77bb3da1cfcf14c0bed2aa254c4fbd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a978361a0f3a5c36d3a82a6fe1b4c4d00"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlossycompressor_1_1_compressor_algorithm.html#a978361a0f3a5c36d3a82a6fe1b4c4d00">canContinueComputing</a> ()</td></tr>
<tr class="separator:a978361a0f3a5c36d3a82a6fe1b4c4d00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7ce717ecc67256fbc99d9ab8a0569fe"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac7ce717ecc67256fbc99d9ab8a0569fe"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlossycompressor_1_1_compressor_algorithm.html#ac7ce717ecc67256fbc99d9ab8a0569fe">onBestSolutionFound</a> (float bestFitness)</td></tr>
<tr class="memdesc:ac7ce717ecc67256fbc99d9ab8a0569fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Must be called when computation found the best solution and will terminate. <br /></td></tr>
<tr class="separator:ac7ce717ecc67256fbc99d9ab8a0569fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a171b7c408749b37c5526fb6bca9e981e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a171b7c408749b37c5526fb6bca9e981e"></a>
virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlossycompressor_1_1_compressor_algorithm.html#a171b7c408749b37c5526fb6bca9e981e">compressInternal</a> (<a class="el" href="structlossycompressor_1_1_voronoi_diagram.html">VoronoiDiagram</a> *outputDiagram, <a class="el" href="structlossycompressor_1_1_color24bit.html">Color24bit</a> *colors, int *pixelPointAssignment)=0</td></tr>
<tr class="memdesc:a171b7c408749b37c5526fb6bca9e981e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implement this method to provide the compression calculation. <br /></td></tr>
<tr class="separator:a171b7c408749b37c5526fb6bca9e981e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a7cec23bc2a41ac35617e21466a2f0c46"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7cec23bc2a41ac35617e21466a2f0c46"></a>
<a class="el" href="structlossycompressor_1_1_compressor_algorithm_1_1_args.html">CompressorAlgorithm::Args</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlossycompressor_1_1_compressor_algorithm.html#a7cec23bc2a41ac35617e21466a2f0c46">args</a></td></tr>
<tr class="memdesc:a7cec23bc2a41ac35617e21466a2f0c46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compression arguments. <br /></td></tr>
<tr class="separator:a7cec23bc2a41ac35617e21466a2f0c46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23c2407260dfc34b4cb74dcf270aaae1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a23c2407260dfc34b4cb74dcf270aaae1"></a>
<a class="el" href="classlossycompressor_1_1_cpu_fitness_evaluator.html">CpuFitnessEvaluator</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlossycompressor_1_1_compressor_algorithm.html#a23c2407260dfc34b4cb74dcf270aaae1">cpuFitnessEvaluator</a></td></tr>
<tr class="memdesc:a23c2407260dfc34b4cb74dcf270aaae1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fitness evaluator using CPU. <br /></td></tr>
<tr class="separator:a23c2407260dfc34b4cb74dcf270aaae1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class representing an algorithm that compresses the image. </p>
<p>Implementations use local search or various genetic algorithms. Therefore this class contains useful methods used in these implementations.</p>
<p>Points in voronoi diagrams used during calculations are kept sorted according to their horizontal (x) coordinate. This sorting speeds up fitness calculation. Points are initially sorted when diagram is generated and during tweaking only the changed point(s) is/are put to their right place.</p>
<p>BEWARE these utility methods use work variables from the instance of this class and hence cannot be executed in parallel. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="af77bb3da1cfcf14c0bed2aa254c4fbd6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float CompressorAlgorithm::calculateFitness </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlossycompressor_1_1_voronoi_diagram.html">VoronoiDiagram</a> *&#160;</td>
          <td class="paramname"><em>diagram</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returned fitness is always &gt;= 0 with 0 being the best possible value. </p>

</div>
</div>
<a class="anchor" id="a978361a0f3a5c36d3a82a6fe1b4c4d00"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CompressorAlgorithm::canContinueComputing </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Returns true if computation can continue given it's limit, false otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a651e1dd7ef3df5e46a4aad73a8de4c8d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CompressorAlgorithm::compress </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlossycompressor_1_1_voronoi_diagram.html">VoronoiDiagram</a> *&#160;</td>
          <td class="paramname"><em>outputDiagram</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlossycompressor_1_1_color24bit.html">Color24bit</a> *&#160;</td>
          <td class="paramname"><em>colors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>pixelPointAssignment</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Do the compression. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">outputDiagram</td><td>Diagram into which the compression result will be written. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">colors</td><td>Array into which colors of points in diagram will be written. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pixelPointAssignment</td><td>Array into which indices of closest point for every pixel will be written. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>Compressor/<a class="el" href="compressoralgorithm_8h_source.html">compressoralgorithm.h</a></li>
<li>Compressor/compressoralgorithm.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
